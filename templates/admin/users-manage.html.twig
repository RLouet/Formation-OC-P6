{% extends 'front/_front-base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <!-- Admin CSS -->
    <link rel="stylesheet" href="{{ asset("css/style-admin.css") }}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block title %}Utilisateurs{% endblock %}

{% block content %}
    <div id="contentContainer">
        <div class="container rounded users-management pb-3">
            <header class="row">
                <div class="d-sm-none col-12 text-center brand-container">
                    <a class="brand" href="{{ path('front_home') }}#"><h1 class="logo">SnowTricks</h1></a>
                </div>
                <div class="col-12 page-title p-0 d-flex align-content-center flex-wrap">
                    <h2 class="vertical-align-middle w-100">Gestion des utilisateurs</h2>
                </div>
            </header>
            <section>
                <div class="table-responsive">
                    <table class="table table-striped table-sm users-table">
                        <thead class="thead-light">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Nom d'utilisateur</th>
                            <th scope="col">Email</th>
                            <th scope="col">Inscription</th>
                            <th scope="col">Role</th>
                            <th scope="col">Supprimer</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for user in users %}
                            <tr class="user-item{% if not user.enabled %} table-dark{% endif %}">
                                <th scope="row">{{ user.id }}</th>
                                <td>{{ user.username }}</td>
                                <td>{{ user.email }}</td>
                                <td>{{ user.subscriptionDate|date('d/m/Y') }}</td>
                                <td>
                                    {% if 'ROLE_ADMIN' in user.roles %}Admin{% else %}Membre{% endif %}<br>
                                    <a href="#" title="Change le rÃ´le">Modifier</a>
                                </td>
                                <td><a href="#" title="Supprimer">Supprimer</a></td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>

                <div class="row my-2">
                    <div class="col-12 text-center">
                        {% if paginate_users %}
                            <button class="btn btn-primary pagination-btn" data-target=".users-table tbody" data-entity="user">Voir plus</button>
                        {% endif %}
                    </div>
                </div>
            </section>
        </div>

    </div>
{% endblock %}

{% block javascriptsBottom %}
    {{ parent() }}
    <script src="{{ asset('js/admin.js') }}"></script>
    <script src="{{ asset('js/pagination.js') }}"></script>
{% endblock %}